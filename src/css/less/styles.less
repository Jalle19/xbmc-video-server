@import "bootstrap/bootstrap.less";
@import "bootstrap/responsive.less";
@import "bootstrap/yiistrap.less";
@import "bootswatch/variables.less";
@import "bootswatch/bootswatch.less";
@import "typeahead.less";
@import "fontawesome/less/font-awesome.less";
@import "yii/yiilistview-styles.less";
@import "yiistrap/pager.less";
@import "yiistrap/yiistrap.less";

// Heading links should not have link color
h1, h2, h3, h4, h5, h6 {
	& > a {
		color: @blueDark;
	}
}

.header {
	min-height: 20px !important; // default is 30px for some reason
	
	h1#home-url {
		margin: 20px 0;

		a:hover {
			text-decoration: none;
		}
	}

	p.lead {
		// h1#home-url has to compensate if this element is missing
		margin-top: -10px;
	}
}

.well {
	padding: 20px; // default is 19px for some retarded reason
}

span.required {
	color: @red;
}

.btn-padded {
	margin-left: @gridGutterWidth;
}

.watched-icon {
	padding-left: 0.4em;
}

.form-help {
	display: table;
	color: @infoText;
	background: @infoBackground;
	border: @infoBorder;
	.border-radius(@baseBorderRadius);
	padding: 10px 20px;
	margin: 20px 0;
}

.help-block {
	font-size: smaller;
	font-style: italic;
}

// Make select dropdowns and other similar elements have the same padding/border
// as all other inputs
select {
	height: 38px; // 20 + padding + border
	padding: 7px 6px;
	border-width: 2px;
}

.button-column {
	min-width: auto !important;
	
	& a {
		color: @blueDark; // don't use link color
		text-decoration: none;
	}
}

.detail-view {
	margin-top: 20px;
}

.grid-view td {
	vertical-align: top !important;
}

.movie-filter-form {
	.control-group {
		display: inline-block;
		margin-right: 20px;
	}

	// ironically the inputs in this container are <button> or <a>
	.buttons {
		margin-left: -20px; // compensate for the buttons' left margins
		text-align: right;
		
		button, a {
			display: inline-block;
			margin: 10px 0 10px 20px;
		}
	}
}

.display-mode-toggle {
	margin-bottom: 20px;
	text-align: right;
	
	.summary {
		display: inline-block;
		margin-bottom: 0;
	}
	
	.btn-group {
		margin-left: 20px;
	
		// reset text-align on the dropdown menu items
		ul > li > a {
			text-align: left;
		}
	}
}

.item-grid, .actor-grid {
	.caption {
		position: relative;
		padding: 6px;
		
		// overflow after three lines of text
		min-height: 59px;
		max-height: 59px;
		overflow: hidden;

		// override color to make links look like normal text
		a {
			color: @gray !important;
			padding-right: 24px; // make room for the watched icon
		}
		
		p {
			margin-bottom: 0;
		}
		
		.watched-icon {
			position: absolute;
			top: 6px;
			right: 0;
		}
	}
}

.item-grid {
	.thumbnail {
		.image-container {
			width: 100%;
			text-align: center;

			// vary the height of the image container (and thus the image) 
			// depending on the viewport
			@media (min-width: 768px) {
				height: 140px;
			}
			
			@media (min-width: 980px) {
				height: 195px;
			}
			
			@media (min-width: 1200px) {
				height: 240px;
			}
			
			img {
				max-height: 100%;
			}
		}
	}
}

.pager {
	border-top: 1px solid @tableBorder;
}

.item-thumbnail {
	display: block;
	border: 1px dotted #E5E5E5;
	padding: 2px;

	// because Chrome sucks
	&.episode-thumbnail {
		max-width: 116px;
	}
}

.item-links {
	margin-top: 20px;
}

.item-description {
	.item-top, .item-info, .item-plot {
		border-bottom: 1px dotted #E5E5E5;
		margin-bottom: 20px;
	}

	.item-top {
		position: relative;

		.media-flags {
			position: absolute;
			bottom: 0;
			right: 0;
		}

		&, .media-flags {
			padding-bottom: 20px;
		}
	}

	.item-title {
		h2, p {
			display: inline-block;
		}

		h2 {
			margin-right: 10px;
		}

		p {
			font-size: larger;
		}

		.tagline {
			display: block;
			margin: -10px 0 0 0;
			font-style: italic;
		}
	}

	.item-rating p {
		margin-bottom: 5px;
	}

	.item-metadata p {
		float: left;
		padding: 0 10px;
		border-right: 1px solid #E5E5E5;

		&:last-child {
			border: 0;
		}
	}

	.item-plot p {
		font-style: italic;
	}
}

.season-list {
	border: 1px solid #E5E5E5;
	.border-radius(@baseBorderRadius);
}

.season-list {
	.accordion-group {
		margin-bottom: -1px;
		border-width: 1px 0 0 0 ;
		.border-radius(0);

		&:first-child {
			border-width: 0;
		}

		.accordion-inner {
			padding: 20px;
		}
	}
}

.season {
	.season-artwork {
		padding: 10px 0 10px 10px;
	}
	
	.season-info {
		padding-left: 15px; // to match the accordion toggle
	}
}

.season-episode-list-info {
	margin-bottom: 20px;
	border-bottom: 1px dotted #E5E5E5;
	
	// Put the margin on the elements inside since they can wrap around on 
	// small viewports
	.season-artwork, .season-download {
		margin-bottom: 20px;
	}
	
	.season-artwork {
		margin-right: 20px;
	}
	
	.season-download {
		.btn {
			margin-right: 10px;
		}
	}
}

.rating-star {
	display: inline-block;
	margin: 0 0 15px 0; // the star is not exactly 28px high
	height: 28px;
	font-size: 28px;
}

.rating-star-yellow:before {
	content: "\2605";
	position: absolute;
	color: #FFCC33;
}

.media-flags {
	.flag-section {
		display: inline-block;
		margin-left: 10px;

		&:first-child {
			margin-left: 0;
		}

		img {
			display: inline-block;
			margin-right: 5px;
		}
	}
}

.log-grid {
	// slightly smaller than usual
	font-size: 13px;
	
	tr.error-row td {
		background-color: @red !important;
		color: #FFF;
		
		&.button-column {
			background-color: #FFF !important;
		}
		
		&.message-column {
			width: 400px;
			max-width: 400px;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}
	}
}

.log-details {
	.exception-message, pre {
		font-family: "Courier New", Courier, monospace;
		font-size: 12px;
		line-height: 12px;
	}
	
	pre {
		margin-top: 20px;
		background: #FFF;
	}
}

#change-language-modal {
	.modal-body {
		padding-bottom: 0;
	}
	
	.modal-footer {
		display: none;
	}
}

.center-wrapper {
	text-align: center;
}

.large-loader {
	width: 250px;
	margin: 10px 0 20px;
}

.watch-modal {
	// make the modal a bit smaller than normal
	width: 300px;
	
	// center it properly, without any hacks
	margin: 0 auto;
	left: 20px;
	right: 20px;
	
	.modal-header h3 {
		padding-right: 20px;
		text-align: center;
	}
	
	.modal-body {
		padding-bottom: 0; // item-links provide margin
		
		form {
			section {
				margin-bottom: 20px;
				padding-bottom: 20px;
				border-bottom: 1px solid @grayLighter;
			}
			
			// for some dump reason, depending on what type of buttons are used 
			// we need to use different widths
			.btn {
				width: 198px; // 270 - 72
			}
			
			button, select {
				width: 100% !important;
			}
		}
	}
}

.watch-modal-button {
	width: 100%;
}

// Import overrides for small screens
@import "styles-max-767.less";
@import "styles-max-979.less";

// Import overrides for large screens (desktops)
@import "styles-min-1610.less";
@import "styles-min-1810.less";
